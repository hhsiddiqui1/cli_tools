{"openapi":"3.1.0","info":{"title":"Portal Authentication API","description":"Simplified FastAPI For tapease.com.au.","version":"3.0.1"},"paths":{"/auth/signup":{"post":{"summary":"Signup","description":"User registration endpoint.","operationId":"signup_auth_signup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"options":{"summary":"Options Signup","description":"Handle CORS preflight for signup endpoint.","operationId":"options_signup_auth_signup_options","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/login":{"post":{"summary":"Login","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"options":{"summary":"Options Login","description":"Handle CORS preflight for login endpoint.","operationId":"options_login_auth_login_options","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/me":{"get":{"summary":"Get Current User Info","description":"Get current authenticated user information including role.\nThis helps debug authorization issues.","operationId":"get_current_user_info_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/refresh-token":{"post":{"summary":"Refresh Token","description":"Refresh JWT token endpoint for sliding sessions. Token must be in Authorization header.","operationId":"refresh_token_auth_refresh_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/validate-token":{"post":{"summary":"Validate Token","description":"Validate JWT token and return token information.","operationId":"validate_token_auth_validate_token_post","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/ValidateTokenRequest"},{"type":"null"}],"title":"Token Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/reset-password":{"post":{"summary":"Reset Password","description":"Password reset endpoint.","operationId":"reset_password_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/forgot-password":{"post":{"summary":"Forgot Password","description":"Forgot password endpoint - sends password reset email.\nThis is a public endpoint that doesn't require authentication.","operationId":"forgot_password_auth_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/reset-password-with-token":{"post":{"summary":"Reset Password With Token","description":"Reset password using token from email - no old password required.\nThis is a public endpoint that doesn't require authentication.","operationId":"reset_password_with_token_auth_reset_password_with_token_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordWithTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordWithTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/update-profile":{"put":{"summary":"Update Profile","description":"Profile update endpoint.","operationId":"update_profile_auth_update_profile_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/upload-documents":{"post":{"summary":"Upload Driver Documents","description":"Upload driver documents (license front, license back, ABN document).\n\nAt least one document must be provided. Files are saved to the server and file paths are stored in the database.","operationId":"upload_driver_documents_auth_upload_documents_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_driver_documents_auth_upload_documents_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/user_profile_details":{"post":{"summary":"Get User Profile Details","description":"Get detailed user profile information.","operationId":"get_user_profile_details_auth_user_profile_details_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/verify-email":{"post":{"summary":"Verify Email","description":"Verify user's email address using the verification token.","operationId":"verify_email_auth_verify_email_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailVerificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/resend-verification":{"post":{"summary":"Resend Verification Email","description":"Resend verification email to user.","operationId":"resend_verification_email_auth_resend_verification_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResendVerificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/transactions/get_gross_total":{"get":{"summary":"Get Gross Total","description":"Get gross total of approved purchase transactions for a user or all users if admin.","operationId":"get_gross_total_transactions_get_gross_total_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/transactions/search_transactions_by_user":{"post":{"summary":"Search Transactions By User","description":"Search transactions by user with date range and optional filters. Uses user_id from request body for filtering. Admins can search any user's transactions, regular users can only search their own. If admin searches with their own user_id, searches all transactions.","operationId":"search_transactions_by_user_transactions_search_transactions_by_user_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchTransactionsByUserRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/transactions/search_receipt":{"post":{"summary":"Search Receipt","description":"Search for a transaction receipt by exact match criteria.\nReturns exactly one result or error if multiple/no matches found.\nRate limited to 5 requests per minute per IP address.\nNo authentication required.\n\nNote: total_amount must be provided in cents (e.g., $10.50 = 1050 cents).\nmodified_time accepts:\n- Date only (YYYY-MM-DD): searches entire day\n- Date with time (YYYY-MM-DDTHH:MM:SS): searches Â±120 minutes window around provided time","operationId":"search_receipt_transactions_search_receipt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiptSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/transactions/search_last_few_transactions_by_user":{"post":{"summary":"Search Last Few Transactions By User","operationId":"search_last_few_transactions_by_user_transactions_search_last_few_transactions_by_user_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchLastFewTransactionsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/fiserv_trans_upload":{"post":{"summary":"Upload Fiserv Trans Csv File","description":"Upload a Fiserv or Clover transaction CSV file and insert into trans_transactions table.","operationId":"upload_fiserv_trans_csv_file_admin_fiserv_trans_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_fiserv_trans_csv_file_admin_fiserv_trans_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/get_user_devices":{"post":{"summary":"Admin Get User Devices","description":"Admin endpoint to get user devices with filtering options.","operationId":"admin_get_user_devices_admin_get_user_devices_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDeviceSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/get_all_users_devices":{"post":{"summary":"Admin Get All Users Devices","description":"Admin endpoint to get all users and their devices using fn_admin_get_all_users_devices function.","operationId":"admin_get_all_users_devices_admin_get_all_users_devices_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminAllUsersDevicesSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/search_users":{"post":{"summary":"Admin Search Users","description":"Admin endpoint to search and filter users using fn_admin_get_all_users function.","operationId":"admin_search_users_admin_search_users_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminUserSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/activate_deactivate":{"post":{"summary":"Admin Activate Deactivate User","description":"Admin user activation/deactivation endpoint using fn_admin_activate_deactivate_user function.","operationId":"admin_activate_deactivate_user_admin_activate_deactivate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActivateUserRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/assign_device_to_user":{"post":{"summary":"Admin Assign Device To User","description":"Admin endpoint to link a device to a user using fn_admin_assign_device_to_user function.","operationId":"admin_assign_device_to_user_admin_assign_device_to_user_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceUserLinkRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/remove_device_from_user":{"post":{"summary":"Admin Remove Device From User","description":"Admin endpoint to unlink a device from a user using fn_admin_remove_device_from_user function.","operationId":"admin_remove_device_from_user_admin_remove_device_from_user_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceUserUnlinkRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/add_device":{"post":{"summary":"Admin Add Device","description":"Admin endpoint to add a new trans_device using fn_admin_insert_trans_device function.","operationId":"admin_add_device_admin_add_device_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddDeviceRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/update_device":{"post":{"summary":"Admin Update Device","description":"Admin endpoint to update existing trans_devices using fn_admin_update_trans_device function.","operationId":"admin_update_device_admin_update_device_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDeviceRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/get_all_devices":{"post":{"summary":"Admin Get All Devices","description":"Admin endpoint to get all trans_devices with associated user information using fn_admin_get_all_trans_devices function.","operationId":"admin_get_all_devices_admin_get_all_devices_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAllDevicesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/upload_logs_as_backend_exceptions":{"post":{"summary":"Upload Logs As Backend Exceptions Endpoint","description":"Upload all log files as backend exceptions to S3.","operationId":"upload_logs_as_backend_exceptions_endpoint_admin_upload_logs_as_backend_exceptions_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/upload_logs_to_s3":{"post":{"summary":"Upload Logs To S3 Endpoint","description":"Upload all log files to S3.","operationId":"upload_logs_to_s3_endpoint_admin_upload_logs_to_s3_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/upload_exceptions_to_s3":{"post":{"summary":"Upload Exceptions To S3 Endpoint","description":"Upload all exception files to S3.","operationId":"upload_exceptions_to_s3_endpoint_admin_upload_exceptions_to_s3_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/clientside_exceptions":{"post":{"summary":"Log Clientside Exception","description":"Log client-side exceptions from frontend applications.\n\nThis endpoint receives error details from the frontend (React, Next.js, etc.)\nand stores them in daily exception files with IP address tracking.","operationId":"log_clientside_exception_admin_clientside_exceptions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientSideExceptionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/clientside_exceptions/stats":{"get":{"summary":"Get Clientside Exception Stats","description":"Get client-side exception statistics for a specific date.\n\nQuery parameters:\n- date: Date in YYYY-MM-DD format (defaults to today)","operationId":"get_clientside_exception_stats_admin_clientside_exceptions_stats_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/clientside_exceptions/recent":{"get":{"summary":"Get Recent Clientside Exceptions","description":"Get recent client-side exceptions.\n\nQuery parameters:\n- limit: Maximum number of exceptions to return (default: 50, max: 200)\n- hours: Number of hours to look back (default: 24, max: 168 = 7 days)","operationId":"get_recent_clientside_exceptions_admin_clientside_exceptions_recent_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/clientside_exceptions/cleanup":{"post":{"summary":"Cleanup Old Clientside Exceptions","description":"Clean up old client-side exception files.\n\nBody parameters:\n- days_to_keep: Number of days to keep exception files (default: 30, max: 365)","operationId":"cleanup_old_clientside_exceptions_admin_clientside_exceptions_cleanup_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days_to_keep","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Days To Keep"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/get_role_id_by_name":{"post":{"summary":"Get Role Id By Name","description":"Get role ID by role name from auth_roles table.","operationId":"get_role_id_by_name_auth_get_role_id_by_name_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRoleIdRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/get_all_auditlogs":{"post":{"summary":"Admin Get All Audit Logs","description":"Admin endpoint to get audit logs with filtering and pagination using get_admin_audit_logs_list function.","operationId":"admin_get_all_audit_logs_admin_get_all_auditlogs_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAuditLogsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/get_auditlog_details":{"post":{"summary":"Admin Get Audit Log Details","description":"Admin endpoint to get detailed audit log information by ID using get_audit_log_details function.","operationId":"admin_get_audit_log_details_admin_get_auditlog_details_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAuditLogDetailsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/update_user_payout":{"post":{"summary":"Update User Payout","description":"Admin endpoint to update user payout status.","operationId":"update_user_payout_admin_update_user_payout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserPayoutRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/update_user_profile":{"post":{"summary":"Admin Update User Profile","description":"Admin endpoint to update any user's profile information.\nAllows updating all fields in the auth_users table.","operationId":"admin_update_user_profile_admin_update_user_profile_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminUpdateUserProfileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/get_session_logs":{"post":{"summary":"Admin Get Session Logs","description":"Admin endpoint to retrieve session logs with filtering options.","operationId":"admin_get_session_logs_admin_get_session_logs_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetSessionLogsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/get_session_statistics":{"get":{"summary":"Admin Get Session Statistics","description":"Admin endpoint to retrieve session statistics and analytics.","operationId":"admin_get_session_statistics_admin_get_session_statistics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/get_user_session_logs/{user_id}":{"get":{"summary":"Admin Get User Session Logs","description":"Admin endpoint to retrieve session logs for a specific user.","operationId":"admin_get_user_session_logs_admin_get_user_session_logs__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/clear_old_session_logs":{"post":{"summary":"Admin Clear Old Session Logs","description":"Admin endpoint to clear old session logs.","operationId":"admin_clear_old_session_logs_admin_clear_old_session_logs_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days_to_keep","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Days To Keep"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/trans_device_users_history":{"post":{"summary":"Get Trans Device Users History","description":"Admin endpoint to retrieve terminal assignment history with filtering and pagination.","operationId":"get_trans_device_users_history_admin_trans_device_users_history_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetTransDeviceUsersHistoryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/trans_device_users_history/{device_id}":{"get":{"summary":"Get Device Assignment History","description":"Admin endpoint to retrieve assignment history for a specific device.","operationId":"get_device_assignment_history_admin_trans_device_users_history__device_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"device_id","in":"path","required":true,"schema":{"type":"integer","title":"Device Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/system_status":{"get":{"summary":"Admin System Status","description":"Admin endpoint to check system status including API, File Processing, and Payout System.","operationId":"admin_system_status_admin_system_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemStatusResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/":{"get":{"tags":["Health"],"summary":"Read Root","description":"Root endpoint with basic application information.","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Enhanced health check endpoint with detailed status information.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/payout/create_payout_instructions":{"post":{"tags":["Payouts"],"summary":"Create Payout Instructions","description":"Create payout instructions for a user.","operationId":"create_payout_instructions_payout_create_payout_instructions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePayoutInstructionsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/payout/search_user_payouts":{"post":{"tags":["Payouts"],"summary":"Search User Payouts","description":"Search user payouts with date range and status filtering.","operationId":"search_user_payouts_payout_search_user_payouts_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PayoutSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/payout/available_payout":{"post":{"tags":["Payouts"],"summary":"Get Available Payouts","description":"Get available payouts for a user with optional status filtering.","operationId":"get_available_payouts_payout_available_payout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AvailablePayoutsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ActivateUserRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"status":{"type":"string","title":"Status"}},"type":"object","required":["email","status"],"title":"ActivateUserRequest","description":"User activation request model."},"AddDeviceRequest":{"properties":{"serial_number":{"type":"string","maxLength":100,"minLength":1,"title":"Serial Number","description":"Device serial number"},"terminal_type":{"type":"string","maxLength":50,"minLength":1,"title":"Terminal Type","description":"Terminal type"},"terminal_status":{"type":"string","maxLength":50,"minLength":1,"title":"Terminal Status","description":"Terminal status"},"terminal_id":{"type":"string","maxLength":100,"minLength":1,"title":"Terminal Id","description":"Terminal ID"}},"type":"object","required":["serial_number","terminal_type","terminal_status","terminal_id"],"title":"AddDeviceRequest","description":"Add device request model for fn_admin_insert_trans_device function."},"AdminAllUsersDevicesSearchRequest":{"properties":{"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"User ID to search devices for"},"abn_no":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Abn No","description":"ABN number partial search"},"terminal_id":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Terminal Id","description":"Terminal ID partial search"}},"type":"object","required":["user_id"],"title":"AdminAllUsersDevicesSearchRequest","description":"Admin all users devices search request model for fn_admin_get_all_users_devices function."},"AdminUpdateUserProfileRequest":{"properties":{"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"User ID to update"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email","description":"User email address"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"New password (will be hashed)"},"phone_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone No","description":"Phone number"},"first_name":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"First Name","description":"First name"},"last_name":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Last Name","description":"Last name"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"User status (use UserStatus enum: INACTIVE='0', ACTIVE='1', DISABLED='-1')"},"license_no":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"License No","description":"License number"},"abn_no":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Abn No","description":"ABN number"},"account_bank_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Account Bank Name","description":"Bank name"},"account_name":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Account Name","description":"Account holder name"},"account_bsb":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Account Bsb","description":"BSB number"},"account_no":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Account No","description":"Account number"},"pay_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Pay Id","description":"PayID (email or phone)"},"pay_id_holder_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Pay Id Holder Name","description":"Name of the PayID holder"},"requested_method":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Requested Method","description":"Payment method preference (1: Bank Transfer, 2: PayID, 3: Cash)","default":3},"payout_cycle":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Payout Cycle","description":"Payment cycle preference (1: Daily, 2: Weekly, 3: On Demand)","default":1},"license_back_file_location":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"License Back File Location","description":"License back file path"},"license_front_file_location":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"License Front File Location","description":"License front file path"},"license_expiry":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Expiry","description":"License expiry date"},"license_card_no":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"License Card No","description":"License card number"},"license_state":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"License State","description":"License state"},"abn_file_location":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Abn File Location","description":"ABN file path"},"address1":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Address1","description":"Address line 1"},"address2":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Address2","description":"Address line 2"},"post_code":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Post Code","description":"Post code"},"state":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"State","description":"State"},"country":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Country","description":"Country"},"email_verified":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email Verified","description":"Email verification status"},"phone_verified":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Verified","description":"Phone verification status"},"retry_count":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Retry Count","description":"Login retry count","default":3},"user_id_clover":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id Clover","description":"Clover user ID"}},"type":"object","required":["user_id"],"title":"AdminUpdateUserProfileRequest","description":"Admin user profile update request model - allows updating all fields for any user."},"AdminUserSearchRequest":{"properties":{"user_id":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"User Id","description":"User ID to search for"},"first_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"First Name","description":"First name partial search"},"last_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Last Name","description":"Last name partial search"},"email":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Email","description":"Email partial search"},"status":{"anyOf":[{"type":"string","pattern":"^[01-]1?$"},{"type":"null"}],"title":"Status","description":"User status (use UserStatus enum: INACTIVE='0', ACTIVE='1', DISABLED='-1')"},"role_id":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Role Id","description":"Role ID","default":2},"abn_no":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Abn No","description":"ABN number partial search"},"pay_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Pay Id","description":"PayID partial search"},"phone_number":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Phone Number","description":"Phone number partial search"},"limit":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of results to return","default":500},"offset":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Offset","description":"Number of results to skip for pagination","default":0}},"type":"object","title":"AdminUserSearchRequest","description":"Admin user search request model."},"AvailablePayoutsRequest":{"properties":{"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"User ID to get payouts for"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"Filter by payout status (use PayoutStatus enum values as strings: '0'=PENDING_FROM_TRANSACTION_DEFAULT, '1'=PENDING_REQUESTED, '2'=COMPLETED, '3'=REJECTED)"}},"type":"object","required":["user_id"],"title":"AvailablePayoutsRequest","description":"Request model for getting available payouts for a user."},"Body_upload_driver_documents_auth_upload_documents_post":{"properties":{"user_id":{"type":"integer","title":"User Id","description":"User ID to upload documents for"},"license_front":{"type":"string","format":"binary","title":"License Front","description":"Driver license front image (JPG, PNG, PDF)"},"license_back":{"type":"string","format":"binary","title":"License Back","description":"Driver license back image (JPG, PNG, PDF)"},"abn_document":{"type":"string","format":"binary","title":"Abn Document","description":"ABN document (PDF, JPG, PNG)"}},"type":"object","required":["user_id"],"title":"Body_upload_driver_documents_auth_upload_documents_post"},"Body_upload_fiserv_trans_csv_file_admin_fiserv_trans_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_fiserv_trans_csv_file_admin_fiserv_trans_upload_post"},"ClientSideExceptionRequest":{"properties":{"error_type":{"type":"string","maxLength":100,"minLength":1,"title":"Error Type","description":"Type of error (e.g., '404', 'TypeError', 'NetworkError')"},"error_message":{"type":"string","maxLength":1000,"minLength":1,"title":"Error Message","description":"Error message or description"},"error_stack":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"Error Stack","description":"Error stack trace (if available)"},"page_url":{"type":"string","maxLength":500,"minLength":1,"title":"Page Url","description":"URL where error occurred"},"page_path":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Page Path","description":"Route path (e.g., '/dashboard', '/profile')"},"referrer_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Referrer Url","description":"Previous page URL"},"user_agent":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"User Agent","description":"Browser user agent string"},"user_id":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"User Id","description":"Authenticated user ID (if logged in)"},"session_id":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"browser_name":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Browser Name","description":"Browser name (Chrome, Firefox, etc.)"},"browser_version":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Browser Version","description":"Browser version"},"operating_system":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Operating System","description":"Operating system"},"screen_resolution":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Screen Resolution","description":"Screen resolution (e.g., '1920x1080')"},"viewport_size":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Viewport Size","description":"Viewport size (e.g., '1200x800')"},"severity":{"type":"string","enum":["low","medium","high","critical"],"title":"Severity","description":"Error severity level","default":"medium"},"category":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Category","description":"Error category (navigation, api, ui, etc.)"},"additional_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Additional Data","description":"Additional error context data"},"timestamp_client":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp Client","description":"Client-side timestamp when error occurred"}},"type":"object","required":["error_type","error_message","page_url"],"title":"ClientSideExceptionRequest","description":"Model for client-side exception reporting from frontend applications."},"CreatePayoutInstructionsRequest":{"properties":{"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"User ID requesting payout"},"available_amount":{"type":"integer","exclusiveMinimum":0.0,"title":"Available Amount","description":"Available amount for payout in AUD cents"},"requested_amount":{"type":"integer","exclusiveMinimum":0.0,"title":"Requested Amount","description":"Requested payout amount in AUD cents"},"payout_status":{"type":"integer","title":"Payout Status","description":"Payout status (0: Pending from Transaction file, 1: Pending requested by users, 2: Approved, 3: Cancellation/Failed payout)","default":0},"account_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Account Name","description":"Account name for payout"},"account_bsb":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Account Bsb","description":"BSB number"},"account_no":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Account No","description":"Account number"},"pay_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Pay Id","description":"PayID (email or phone)"},"pay_id_holder_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Pay Id Holder Name","description":"Name of the Pay_id Holder."},"requested_method":{"type":"integer","title":"Requested Method","description":"Payment method preference (1: Bank Transfer, 2: PayID, 3: Cash)"}},"type":"object","required":["user_id","available_amount","requested_amount","requested_method"],"title":"CreatePayoutInstructionsRequest","description":"Create payout instructions request model."},"DeviceUserLinkRequest":{"properties":{"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"User ID to link device to"},"device_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Device Id","description":"Device ID to link"},"external_device_id":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"External Device Id","description":"External device identifier"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Assignment status (default: 1 for assigned)","default":"1"},"assigned_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Assigned Date","description":"Assignment date (default: current timestamp)"}},"type":"object","required":["user_id","device_id"],"title":"DeviceUserLinkRequest","description":"Device user link request model."},"DeviceUserUnlinkRequest":{"properties":{"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"User ID to unlink device from"},"device_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Device Id","description":"Device ID to unlink"}},"type":"object","required":["user_id","device_id"],"title":"DeviceUserUnlinkRequest","description":"Device user unlink request model."},"EmailVerificationRequest":{"properties":{"token":{"type":"string","minLength":1,"title":"Token","description":"Email verification token"}},"type":"object","required":["token"],"title":"EmailVerificationRequest","description":"Email verification request model."},"ForgotPasswordRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address to send password reset link to"}},"type":"object","required":["email"],"title":"ForgotPasswordRequest","description":"Forgot password request model - only requires email."},"ForgotPasswordResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"email":{"type":"string","title":"Email"}},"type":"object","required":["success","message","email"],"title":"ForgotPasswordResponse","description":"Response model for forgot password request."},"GetAllDevicesRequest":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"Optional: Filter by specific user_id"},"device_status":{"type":"string","title":"Device Status","description":"Device assignment status filter","default":"0"}},"type":"object","title":"GetAllDevicesRequest","description":"Request model for admin get all devices endpoint with filtering options."},"GetAuditLogDetailsRequest":{"properties":{"audit_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Audit Id","description":"The unique ID of the audit log entry"}},"type":"object","required":["audit_id"],"title":"GetAuditLogDetailsRequest","description":"Request model for getting audit log details by ID."},"GetAuditLogsRequest":{"properties":{"table_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Table Name","description":"Filter by table name"},"operation_type":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Operation Type","description":"Filter by operation type (CREATE, UPDATE, DELETE, etc.)"},"performed_by_user_id":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Performed By User Id","description":"Filter by user ID who performed the action"},"from_timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Timestamp","description":"Filter logs from this timestamp (ISO format)"},"to_timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Timestamp","description":"Filter logs up to this timestamp (ISO format)"},"limit":{"type":"integer","maximum":1000.0,"exclusiveMinimum":0.0,"title":"Limit","description":"Maximum number of audit logs to return","default":50},"offset":{"type":"integer","minimum":0.0,"title":"Offset","description":"Number of audit logs to skip for pagination","default":0}},"type":"object","title":"GetAuditLogsRequest","description":"Request model for admin get audit logs endpoint with filtering and pagination."},"GetRoleIdRequest":{"properties":{"role_name":{"type":"string","maxLength":100,"minLength":1,"title":"Role Name","description":"Role name to search for"}},"type":"object","required":["role_name"],"title":"GetRoleIdRequest","description":"Request model for getting role ID by role name."},"GetSessionLogsRequest":{"properties":{"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"user_role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Role"},"start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"},"limit":{"type":"integer","title":"Limit","default":100},"offset":{"type":"integer","title":"Offset","default":0}},"type":"object","title":"GetSessionLogsRequest"},"GetTransDeviceUsersHistoryRequest":{"properties":{"device_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Device Id","description":"Filter by device ID"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"Filter by user ID"},"from_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date","description":"Filter from date"},"to_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date","description":"Filter to date"},"limit":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Limit results","default":50},"offset":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Offset","description":"Offset for pagination","default":0}},"type":"object","title":"GetTransDeviceUsersHistoryRequest","description":"Request model for getting terminal assignment history."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest","description":"User login request model."},"PayoutSearchRequest":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"role_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Role Id"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"from_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"},"to_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"}},"type":"object","title":"PayoutSearchRequest","description":"Payout search request model."},"ReceiptSearchRequest":{"properties":{"modified_time":{"type":"string","title":"Modified Time","description":"Modified timestamp: YYYY-MM-DD (date only, searches entire day) or YYYY-MM-DDTHH:MM:SS (with time, searches Â±120 minutes window)"},"total_amount":{"type":"integer","exclusiveMinimum":0.0,"title":"Total Amount","description":"Total amount in AUD cents (e.g., $10.50 = 1050 cents)"},"card_last4":{"type":"string","title":"Card Last4","description":"Last 4 digits of card number"},"card_type":{"type":"string","title":"Card Type","description":"Card type (string, case-insensitive match)"},"pick_up_location":{"type":"string","title":"Pick Up Location","description":"Pick up location (returned in response, not used for filtering)"},"drop_off_location":{"type":"string","title":"Drop Off Location","description":"Drop off location (returned in response, not used for filtering)"}},"type":"object","required":["modified_time","total_amount","card_last4","card_type","pick_up_location","drop_off_location"],"title":"ReceiptSearchRequest","description":"Request model for receipt search by exact match criteria.\n\nNote: total_amount must be provided in cents (e.g., $10.50 = 1050 cents)."},"ResendVerificationRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address to resend verification to"}},"type":"object","required":["email"],"title":"ResendVerificationRequest","description":"Resend verification email request model."},"ResetPasswordRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"old_password":{"type":"string","title":"Old Password"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["email","old_password","new_password"],"title":"ResetPasswordRequest","description":"Password reset request model."},"ResetPasswordWithTokenRequest":{"properties":{"token":{"type":"string","title":"Token","description":"Password reset token from email"},"new_password":{"type":"string","title":"New Password","description":"New password"}},"type":"object","required":["token","new_password"],"title":"ResetPasswordWithTokenRequest","description":"Reset password with token request model - no old password required."},"ResetPasswordWithTokenResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}},"type":"object","required":["success","message"],"title":"ResetPasswordWithTokenResponse","description":"Response model for reset password with token request."},"SearchLastFewTransactionsRequest":{"properties":{"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"User ID to search transactions for"},"limit":{"type":"integer","maximum":100.0,"exclusiveMinimum":0.0,"title":"Limit","description":"Number of recent transactions to fetch (default: 5, max: 100)","default":5}},"type":"object","required":["user_id"],"title":"SearchLastFewTransactionsRequest","description":"Request model for searching last few transactions by user."},"SearchTransactionsByUserRequest":{"properties":{"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"User ID to search transactions for"},"from_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"},"to_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"},"transaction_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transaction Id","description":"Filter by transaction ID (exact match)"},"account_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Number","description":"Filter by account number"},"terminal_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Terminal Id","description":"Filter by terminal ID"},"auth_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auth Code","description":"Filter by authorization code"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method","description":"Filter by payment method"},"total_amount":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Total Amount","description":"Filter by total amount in AUD cents (net amount  + tip + surcharge - cash) (exact match)"},"net_amount":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Net Amount","description":"Filter by net amount in AUD cents i.e. net amount = total amount - cash - tip - surcharge (exact match)"},"cash_tendered":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Cash Tendered","description":"Filter by cash amount tendered in AUD cents (exact match)"},"payment_tip_amount":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Payment Tip Amount","description":"Filter by payment tip amount in AUD cents (exact match)"},"surcharge_amount":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Surcharge Amount","description":"Filter by surcharge amount in AUD cents (exact match)"},"payment_result":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Result","description":"Filter by 'SUCCESS' or 'FAIL' status"},"date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date","description":"Filter by date (supports: YYYY-MM-DD, DD-MMM-YYYY, DD/MM/YYYY, MM/DD/YYYY)"},"time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Time","description":"Filter by time (supports: HH:MM:SS, HH:MM, 11:20 PM, 11:20:00 PM AEST)"}},"type":"object","required":["user_id"],"title":"SearchTransactionsByUserRequest","description":"Request model for searching transactions by user with date range and optional filters."},"SignUpRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"phone_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone No"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"license_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License No"},"abn_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abn No"},"account_bank_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Bank Name"},"account_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Name"},"account_bsb":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Bsb"},"account_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account No"},"pay_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Pay Id","description":"PayID (email or phone)"},"pay_id_holder_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pay Id Holder Name","description":"The Name of the PayID Holder"},"requested_method":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Requested Method","description":"Payment method preference (1: Bank Transfer, 2: PayID, 3: Cash)","default":3},"payout_cycle":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Payout Cycle","description":"Payment cycle preference (1: Daily, 2: Weekly, 3: On Demand)","default":1},"license_back_file_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Back File Location"},"license_front_file_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Front File Location"},"license_expiry":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Expiry"},"license_card_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Card No"},"license_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License State"},"abn_file_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abn File Location"},"address1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address1"},"address2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address2"},"post_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post Code"},"state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"State"},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"user_id_clover":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id Clover"}},"type":"object","required":["email","password"],"title":"SignUpRequest","description":"User registration request model."},"SystemComponentStatus":{"properties":{"name":{"type":"string","title":"Name"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"response_time_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Response Time Ms"},"last_checked":{"type":"string","title":"Last Checked"},"details":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Details"}},"type":"object","required":["name","status","message","last_checked"],"title":"SystemComponentStatus","description":"Model for individual system component status."},"SystemStatusResponse":{"properties":{"overall_status":{"type":"string","title":"Overall Status"},"timestamp":{"type":"string","title":"Timestamp"},"components":{"items":{"$ref":"#/components/schemas/SystemComponentStatus"},"type":"array","title":"Components"},"summary":{"type":"object","title":"Summary"}},"type":"object","required":["overall_status","timestamp","components","summary"],"title":"SystemStatusResponse","description":"Response model for system status endpoint."},"UpdateDeviceRequest":{"properties":{"device_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Device Id","description":"Device ID (primary key)"},"serial_number":{"type":"string","maxLength":100,"minLength":1,"title":"Serial Number","description":"Device serial number"},"terminal_type":{"type":"string","maxLength":50,"minLength":1,"title":"Terminal Type","description":"Terminal type"},"terminal_status":{"type":"string","maxLength":50,"minLength":1,"title":"Terminal Status","description":"Terminal status"},"terminal_id":{"type":"string","maxLength":100,"minLength":1,"title":"Terminal Id","description":"Terminal ID"}},"type":"object","required":["device_id","serial_number","terminal_type","terminal_status","terminal_id"],"title":"UpdateDeviceRequest","description":"Update device request model for fn_admin_update_trans_device function."},"UpdateProfileRequest":{"properties":{"user_id":{"type":"integer","title":"User Id"},"phone_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone No"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"license_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License No"},"abn_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abn No"},"account_bank_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Bank Name"},"account_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Name"},"account_bsb":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Bsb"},"account_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account No"},"pay_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Pay Id","description":"PayID (email or phone)"},"requested_method":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Requested Method","description":"Payment method preference (1: Bank Transfer, 2: PayID, 3: Cash)","default":3},"payout_cycle":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Payout Cycle","description":"Payment cycle preference (1: Daily, 2: Weekly, 3: On Demand)","default":1},"license_back_file_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Back File Location"},"license_front_file_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Front File Location"},"license_expiry":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Expiry"},"license_card_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Card No"},"license_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License State"},"abn_file_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abn File Location"},"address1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address1"},"address2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address2"},"post_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post Code"},"state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"State"},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"user_id_clover":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id Clover"}},"type":"object","required":["user_id"],"title":"UpdateProfileRequest","description":"Profile update request model."},"UpdateUserPayoutRequest":{"properties":{"payout_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Payout Id","description":"Payout ID to update"},"status":{"type":"string","title":"Status","description":"New status for the payout (use PayoutStatus enum values as strings: '0'=PENDING_FROM_TRANSACTION_DEFAULT, '1'=PENDING_REQUESTED, '2'=COMPLETED, '3'=REJECTED)"},"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"Target user ID whose payout is being updated"},"pay_out_method_used":{"type":"integer","title":"Pay Out Method Used","description":"Payment method preference (1: Bank Transfer, 2: PayID, 3: Cash)","default":1},"payout_receipt_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payout Receipt No","description":"Optional payout receipt number"},"paid_amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Paid Amount","description":"Amount actually paid in AUD cents (can be different from total_payout)"}},"type":"object","required":["payout_id","status","user_id"],"title":"UpdateUserPayoutRequest","description":"Request model for updating user payout status."},"UserDeviceSearchRequest":{"properties":{"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"User ID to search devices for"},"first_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"First Name","description":"First name partial search"},"last_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Last Name","description":"Last name partial search"},"abn_no":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Abn No","description":"ABN number partial search"},"terminal_id":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Terminal Id","description":"Terminal ID partial search"}},"type":"object","required":["user_id"],"title":"UserDeviceSearchRequest","description":"User device search request model."},"UserProfileRequest":{"properties":{"user_id":{"type":"integer","title":"User Id"}},"type":"object","required":["user_id"],"title":"UserProfileRequest","description":"User profile details request model."},"ValidateTokenRequest":{"properties":{"token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token","description":"JWT token to validate (optional if provided in Authorization header)"}},"type":"object","title":"ValidateTokenRequest","description":"Token validation request model."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}